(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(29)},20:function(e,t,n){},27:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var r,a,i=n(6),o=n.n(i),s=n(11),u=n(0),c=n.n(u),p=n(12),l=n.n(p),f=(n(20),n(4)),d=n(2),m={},h=0,y=new TextEncoder("utf-8"),v=null;function g(){return null!==v&&v.buffer===r.memory.buffer||(v=new Uint8Array(r.memory.buffer)),v}a="function"===typeof y.encodeInto?function(e){for(var t=e.length,n=r.__wbindgen_malloc(t),a=0,i=g();a<e.length;a++){var o=e.charCodeAt(a);if(o>127)break;i[n+a]=o}if(a!==e.length){e=e.slice(a),n=r.__wbindgen_realloc(n,t,t=a+3*e.length);var s=g().subarray(n+a,n+t);a+=y.encodeInto(e,s).written}return h=a,n}:function(e){for(var t=e.length,n=r.__wbindgen_malloc(t),a=0,i=g();a<e.length;a++){var o=e.charCodeAt(a);if(o>127)break;i[n+a]=o}if(a!==e.length){var s=y.encode(e.slice(a));n=r.__wbindgen_realloc(n,t,t=a+s.length),g().set(s,n+a),a+=s.length}return h=a,n};var O=new TextDecoder("utf-8");function S(e,t){return O.decode(g().subarray(e,e+t))}var w=null;function _(){return null===w&&(w=r.__wbindgen_global_argument_ptr()),w}var b=null;function E(){return null!==b&&b.buffer===r.memory.buffer||(b=new Uint32Array(r.memory.buffer)),b}function k(e){var t=a(e),n=h,i=_();try{r.validateAsJson(i,t,n);var o=E(),s=o[i/4],u=o[i/4+1],c=S(s,u).slice();return r.__wbindgen_free(s,1*u),c}finally{r.__wbindgen_free(t,1*n)}}function P(e,t){var n=a(e),i=h,o=a(t),s=h,u=_();try{r.validateAndSizeFromShapesAsStringAsJson(u,n,i,o,s);var c=E(),p=c[u/4],l=c[u/4+1],f=S(p,l).slice();return r.__wbindgen_free(p,1*l),f}finally{r.__wbindgen_free(n,1*i),r.__wbindgen_free(o,1*s)}}function A(e,t,n){var i=a(e),o=h,s=a(t),u=h,c=a(n),p=h,l=_();try{r.einsumPathAsJson(l,i,o,s,u,c,p);var f=E(),d=f[l/4],m=f[l/4+1],y=S(d,m).slice();return r.__wbindgen_free(d,1*m),y}finally{r.__wbindgen_free(i,1*o),r.__wbindgen_free(s,1*u),r.__wbindgen_free(c,1*p)}}function j(e,t){var n=a(e),i=h,o=a(t),s=h,u=_();try{r.slowEinsumAsJson(u,n,i,o,s);var c=E(),p=c[u/4],l=c[u/4+1],f=S(p,l).slice();return r.__wbindgen_free(p,1*l),f}finally{r.__wbindgen_free(n,1*i),r.__wbindgen_free(o,1*s)}}m.validateAsJson=k,m.validateAndSizeFromShapesAsStringAsJson=P,m.einsumPathAsJson=A,m.slowEinsumAsJson=j;var N=function e(t){var n,a={"./einsum_wasm":m};if(t instanceof URL||"string"===typeof t||t instanceof Request){var i=fetch(t);n="function"===typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(i,a).catch(function(e){return console.warn("`WebAssembly.instantiateStreaming` failed. Assuming this is because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e),i.then(function(e){return e.arrayBuffer()}).then(function(e){return WebAssembly.instantiate(e,a)})}):i.then(function(e){return e.arrayBuffer()}).then(function(e){return WebAssembly.instantiate(e,a)})}else n=WebAssembly.instantiate(t,a).then(function(e){return e instanceof WebAssembly.Instance?{instance:e,module:t}:e});return n.then(function(t){var n=t.instance,a=t.module;return r=n.exports,e.__wbindgen_wasm_module=a,r})},J=n(3);function C(e){return e.hasOwnProperty("Err")}function z(e){return e instanceof Array&&e.every(function(e){return"number"===typeof e})}function x(e){if("number"===typeof e)return{Ok:[]};var t=x(e[0]);if(C(t))return t;for(var n=function(n){var r=x(e[n]);return C(r)?{v:r}:t.Ok.every(function(e,t){return r.Ok[t]===e})?void 0:{v:{Err:"Array contains elements with different shapes"}}},r=1;r<e.length;r++){var a=n(r);if("object"===typeof a)return a.v}return{Ok:[e.length].concat(Object(J.a)(t.Ok))}}function q(e){return!!function e(t){if("number"===typeof t)return!0;if(!(t instanceof Array))return!1;if(z(t)&&0!==t.length)return!0;var n=t[0];if(!(n instanceof Array)||0===n.length)return!1;var r=n.length;return 0!==r&&t.every(function(t){return t instanceof Array&&t.length===r&&e(t)})}(e)&&!C(x(e))}function M(e){return e.hasOwnProperty("operand_indices")&&e.operand_indices instanceof Array&&e.operand_indices.every(function(e){return e instanceof Array})&&e.hasOwnProperty("output_indices")&&e.hasOwnProperty("summation_indices")}function F(e){return e.hasOwnProperty("contraction")&&M(e.contraction)&&e.hasOwnProperty("output_size")&&function(e){return Object.entries(e).every(function(e){var t=Object(f.a)(e,2);return t[0],"number"===typeof t[1]})}(e.output_size)}function T(e){return e.hasOwnProperty("shape")&&z(e.shape)&&e.hasOwnProperty("contents")&&z(e.contents)}function I(e){return e.hasOwnProperty("Singleton")&&F(e.Singleton)}function R(e){return e.hasOwnProperty("Input")&&"number"===typeof e.Input}function W(e){return R(e)||function(e){return e.hasOwnProperty("IntermediateResult")&&"number"===typeof e.IntermediateResult}(e)}function B(e){return e.hasOwnProperty("sized_contraction")&&F(e.sized_contraction)&&e.hasOwnProperty("operand_nums")&&function(e){return e.hasOwnProperty("lhs")&&W(e.lhs)&&e.hasOwnProperty("rhs")&&W(e.rhs)}(e.operand_nums)}function V(e){return e.hasOwnProperty("Pairs")&&e.Pairs instanceof Array&&e.Pairs.every(B)}function D(e){return e.hasOwnProperty("SingletonContraction")&&"object"===typeof e.SingletonContraction&&e.SingletonContraction.hasOwnProperty("method")&&"string"===typeof e.SingletonContraction.method}function H(e){return e.hasOwnProperty("method")&&"string"===typeof e.method&&e.hasOwnProperty("new_indices")&&e.new_indices instanceof Array&&e.new_indices.every(function(e){return"string"===typeof e})&&e.hasOwnProperty("einsum_string")&&"string"===typeof e.einsum_string}function U(e){return e.hasOwnProperty("lhs_simplification")&&(null===e.lhs_simplification||H(e.lhs_simplification))&&e.hasOwnProperty("rhs_simplification")&&(null===e.rhs_simplification||H(e.rhs_simplification))&&e.hasOwnProperty("method")&&"string"===typeof e.method&&e.hasOwnProperty("simplified_einsum_string")&&"string"===typeof e.simplified_einsum_string}function L(e){return e.hasOwnProperty("PairContractions")&&e.PairContractions instanceof Array&&e.PairContractions.every(U)}function $(e){return e.hasOwnProperty("contraction_order")&&function(e){return I(e)||V(e)}(e.contraction_order)&&e.hasOwnProperty("steps")&&function(e){return D(e)||L(e)}(e.steps)}function G(e,t,n){var r;try{r=JSON.parse(e)}catch(a){return{Err:"".concat(n," returned invalid JSON")}}return function(e,t,n){return function(e,t){return e.hasOwnProperty("Ok")&&t(e.Ok)}(e,t)?e:C(e)?e:n}(r,t,{Err:"".concat(n," returned valid JSON but of the wrong type")})}var K=function(e){return"updateEquation"===e.type&&e.hasOwnProperty("equation")&&"string"===typeof e.equation},Q={type:"updateEquation",typeguard:K,actionCreator:function(e){return{type:"updateEquation",equation:e}},reducer:function(e,t){if(K(t)){var n=t.equation,r=e.visibleSizes,a=G(k(n),M,"validateAsJson");return C(a)||(r=a.Ok.operand_indices.length),Object(d.a)({},e,{visibleSizes:r,equation:t.equation})}throw new TypeError(JSON.stringify({action:t}))}};function X(e){var t,n=e.replace(/\(/g,"[").replace(/\)/g,"]");try{t=JSON.parse(n)}catch(r){return{Err:"Not a valid shape"}}return z(t)?{Ok:t}:{Err:"Not a valid shape"}}function Y(e){return function e(t,n){switch(t.length){case 0:return n[0];case 1:return n.slice();default:for(var r=[],a=1,i=1;i<t.length;i++)a*=t[i];for(var o=0;o<t[0];o++)r.push(e(t.slice(1),n.slice(o*a,(o+1)*a)));return r}}(e.shape,e.contents)}var Z="updateShape";function ee(e){return e.type===Z&&e.hasOwnProperty("index")&&"number"===typeof e.index&&e.hasOwnProperty("shape")&&"string"===typeof e.shape}function te(e,t){var n=1,r=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){n*=o.value}}catch(p){a=!0,i=p}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}if(!(e instanceof Array))return Array(n).fill(0);for(var u=[],c=0;c<n;c++)"number"!==typeof e[c]?u.push(0):u.push(e[c]);return u}var ne={type:Z,typeguard:ee,actionCreator:function(e,t){return{type:Z,index:e,shape:t}},reducer:function(e,t){if(ee(t)){var n=t.index,r=t.shape,a=X(r),i=e.operandStates[n],o=i.contentsVector,s=i.contentsStr;if(!C(a)){var u=Y({shape:a.Ok,contents:te(o,a.Ok)});s=JSON.stringify(u)}return Object(d.a)({},e,{operandStates:[].concat(Object(J.a)(e.operandStates.slice(0,n)),[Object(d.a)({},i,{shapeStr:r,contentsStr:s,contentsVector:o})],Object(J.a)(e.operandStates.slice(n+1)))})}throw new TypeError(JSON.stringify({reducer:Z,action:t}))}};function re(e){var t,n=e.replace(/\(/g,"[").replace(/\)/g,"]");try{t=JSON.parse(n)}catch(r){return{Err:"Not a valid ndArray"}}return q(t)?{Ok:t}:{Err:"Not a valid ndArray"}}var ae="updateContents";function ie(e){return e.type===ae&&e.hasOwnProperty("index")&&"number"===typeof e.index&&e.hasOwnProperty("contents")&&"string"===typeof e.contents}var oe={type:ae,typeguard:ie,actionCreator:function(e,t){return{type:ae,index:e,contents:t}},reducer:function(e,t){if(ie(t)){var n=t.index,r=t.contents,a=re(r),i=e.operandStates[n],o=i.shapeStr,s=i.contentsVector;if(!C(a)){var u=x(a.Ok);if(C(u))throw new Error("This shouldn't be possible");o=JSON.stringify(u.Ok).replace(/\[/g,"(").replace(/\]/g,")"),s=a.Ok.flat(Math.pow(2,16))}return Object(d.a)({},e,{operandStates:[].concat(Object(J.a)(e.operandStates.slice(0,n)),[Object(d.a)({},i,{shapeStr:o,contentsVector:s,contentsStr:r})],Object(J.a)(e.operandStates.slice(n+1)))})}throw new TypeError(JSON.stringify({reducer:ae,action:t}))}},se=function(e){return"updateOptimizationMethod"===e.type&&e.hasOwnProperty("optimizationMethod")&&"string"===typeof e.optimizationMethod},ue={type:"updateOptimizationMethod",typeguard:se,actionCreator:function(e){return{type:"updateOptimizationMethod",optimizationMethod:e}},reducer:function(e,t){if(se(t)){var n=t.optimizationMethod;return Object(d.a)({},e,{optimizationMethod:n})}throw new TypeError(JSON.stringify({action:t}))}};function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0===e.length)return{shapeStr:"()",contentsStr:"[]",contentsVector:[]};var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0===n)throw new Error("range: step must not be zero");void 0===t&&(t=e,e=0);for(var r=[],a=e;a<t;)r.push(a),a+=n;return r}(t,t+n*e.reduce(function(e,t){return t*e},1),n),a=Y({shape:e,contents:r});return{shapeStr:JSON.stringify(e).replace(/\[/g,"(").replace(/\]/g,")"),contentsStr:JSON.stringify(a),contentsVector:r}}function pe(e){var t=(0,e.presetFn)(),n=t.equation,r=t.operandStates,a=r.length;return{equation:n,visibleSizes:a,operandStates:[].concat(Object(J.a)(r),Object(J.a)(Array(256-a).fill(ce([])))),optimizationMethod:"Naive"}}var le={matrixMultiplication:{description:"Matrix Multiplication",presetFn:function(){return{equation:"ij,jk->ik",operandStates:[ce([2,3],0,1),ce([3,5],0,10)]}}},matrixTransposition:{description:"Matrix Transposition (Implicit)",presetFn:function(){return{equation:"ji",operandStates:[ce([2,3],0,1)]}}},sum2D:{description:"Sum All Elements (2D)",presetFn:function(){return{equation:"ij->",operandStates:[ce([2,3],0,1)]}}},columnSum:{description:"Sum Each Column",presetFn:function(){return{equation:"ij->j",operandStates:[ce([2,3],0,1)]}}},rowSum:{description:"Sum Each Row",presetFn:function(){return{equation:"ij->i",operandStates:[ce([2,3],0,1)]}}},getDiagonal:{description:"Take the Diagonal",presetFn:function(){return{equation:"ii->i",operandStates:[ce([3,3],0,1)]}}},matrixVectorMultiplication:{description:"Matrix-Vector Multiplication",presetFn:function(){return{equation:"ij,j->i",operandStates:[ce([2,3],0,1),ce([3],0,10)]}}},outerProduct:{description:"Outer Product",presetFn:function(){return{equation:"i,j->ij",operandStates:[ce([3],0,1),ce([4],10,10)]}}},batchMM1:{description:"Batch Matrix Multiplication (single RHS)",presetFn:function(){return{equation:"nij,jk->nik",operandStates:[ce([4,2,5],0,1),ce([5,3],0,10)]}}},batchMM2:{description:"Batch Matrix Multiplication (multiple RHS)",presetFn:function(){return{equation:"nij,njk->nik",operandStates:[ce([4,2,5],0,1),ce([4,5,3],0,10)]}}},tensorContraction:{description:"Tensor Contraction",presetFn:function(){return{equation:"pqrs,tuqvr->pstuv",operandStates:[ce([2,3,5,7],0,1),ce([11,13,3,17,5],0,10)]}}},bilinearTransformation:{description:"Bilinear Transformation",presetFn:function(){return{equation:"ik,jkl,il->ij",operandStates:[ce([2,3],0,1),ce([5,3,7],0,10),ce([2,7],0,100)]}}}},fe=function(e){return"loadPreset"===e.type&&"string"===typeof e.preset&&le.hasOwnProperty(e.preset)},de={type:"loadPreset",typeguard:fe,actionCreator:function(e){return{type:"loadPreset",preset:e}},reducer:function(e,t){if(fe(t))return pe(le[t.preset]);throw new TypeError(JSON.stringify({action:t}))}},me=pe(le.matrixMultiplication),he={updateEquation:Q.actionCreator,updateShape:ne.actionCreator,updateContents:oe.actionCreator,updateOptimizationMethod:ue.actionCreator,loadPreset:de.actionCreator},ye=function(e){var t={};return e.forEach(function(e){if(t[e.type])throw new Error("Multiple declarations for ".concat(e.type));t[e.type]=e.reducer}),function(e,n){return t[n.type](e,n)}}([de,Q,ne,oe,ue]);function ve(e){var t=e.prompt,n=e.control;return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-xs-4 col-lg-3"},t),c.a.createElement("div",{className:"col-xs-7 col-lg-9"},n))}var ge=c.a.memo(function(e){var t=e.equation,n=e.dispatch;return c.a.createElement(ve,{prompt:"Equation:",control:c.a.createElement("input",{type:"text",onChange:function(e){n(he.updateEquation(e.target.value))},value:t})})}),Oe=n(13);n(21);var Se=function(e){var t="Out_{".concat(e.output_indices.join(","),"}"),n=e.summation_indices.map(function(e){return"\\sum_".concat(e)}).join(" "),r=e.operand_indices.map(function(e,t){var n="A".charCodeAt(0),r=String.fromCharCode(n+t),a=e.join(",");return"".concat(r,"_{").concat(a,"}")}).join(" ");return"".concat(t," = ").concat(n," ").concat(r)},we=n(7),_e=n(9);function be(e){var t=e.output;return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-xs-2 col-xs-offset-2 col-md-offset-0 col-md-1"},C(t)?c.a.createElement(we.a,{title:"Something went wrong!",icon:_e.b,size:"2x",color:"orangered"}):c.a.createElement(we.a,{title:"Everything is cool!",icon:_e.a,size:"2x",color:"darkgreen"})),c.a.createElement("div",{className:"col-xs-8 col-md-11"},C(t)?t.Err:t.Ok))}var Ee=c.a.memo(function(e){var t=G(e.explanationJSON,M,"validateAsJson"),n=C(t)?t:{Ok:c.a.createElement("div",{dangerouslySetInnerHTML:{__html:Object(Oe.renderToString)(Se(t.Ok))}})};return c.a.createElement(be,{output:n})});function ke(e){var t=e.input,n=e.output;return c.a.createElement("div",{className:"row",style:{paddingTop:"1em",paddingBottom:"1em"}},c.a.createElement("div",{className:"col-xs-12 col-md-6"},t),c.a.createElement("div",{className:"col-xs-12 col-md-6"},n))}var Pe=c.a.memo(function(e){var t=e.equation,n=e.dispatch,r=k(t);return c.a.createElement(ke,{input:c.a.createElement(ge,{equation:t,dispatch:n}),output:c.a.createElement(Ee,{explanationJSON:r})})}),Ae=c.a.memo(function(e){var t,n=e.equationJSON,r=e.sizedExplanationJSON,a=G(n,M,"validateAsJson"),i=G(r,F,"validateAndSizeFromShapesAsStringAsJson");if(C(i))t=i;else if(C(a))t=a;else{var o=a.Ok,s=i.Ok.output_size;t={Ok:c.a.createElement("div",null,c.a.createElement("div",null,"Output size: [",o.output_indices.join(", "),"] ="," ",JSON.stringify(o.output_indices.map(function(e){return s[e]}))),c.a.createElement("div",null,"Summation index lengths:"," ",o.summation_indices.map(function(e){return"".concat(e,": ").concat(s[e])}).join("; ")))}}return c.a.createElement(be,{output:t})}),je=c.a.memo(function(e){for(var t=e.operandShapes,n=e.visibleSizes,r=e.dispatch,a=[],i=0;i<n;i++)a.push(i<t.length?t[i]:"[]");var o=function(e){return function(t){r(he.updateShape(e,t.target.value))}};return c.a.createElement(c.a.Fragment,null,a.map(function(e,t){return c.a.createElement(ve,{key:t,prompt:"Shape of ".concat(String.fromCharCode(t+"A".charCodeAt(0)),":"),control:c.a.createElement("input",{type:"text",onChange:o(t),value:e})})}))}),Ne=c.a.memo(function(e){var t,n=e.equation,r=e.visibleSizes,a=e.operandShapes,i=e.dispatch,o=k(n),s=a.slice(0,r).map(X);return t=s.some(C)?JSON.stringify({Err:JSON.stringify(s.map(function(e,t){return{val:e,idx:t}}).filter(function(e){return C(e.val)}).map(function(e){var t=e.val;return{Tensor:e.idx,Error:t.Err}}))}):P(n,JSON.stringify(s.map(function(e){return e.Ok}))),c.a.createElement(ke,{input:c.a.createElement(je,{dispatch:i,visibleSizes:r,operandShapes:a}),output:c.a.createElement(Ae,{sizedExplanationJSON:t,equationJSON:o})})}),Je=c.a.memo(function(e){var t=G(e.computationOutputJSON,T,"slowEinsumAsJson"),n=C(t)?t:{Ok:c.a.createElement(c.a.Fragment,null,"Einsum Result:"," ",c.a.createElement("div",null,JSON.stringify(Y(t.Ok),null,2)))};return c.a.createElement(be,{output:n})}),Ce=c.a.memo(function(e){for(var t=e.operandContents,n=e.visibleSizes,r=e.dispatch,a=[],i=0;i<n;i++)a.push(i<t.length?t[i]:"[]");var o=function(e){return function(t){r(he.updateContents(e,t.target.value))}};return c.a.createElement(c.a.Fragment,null,a.map(function(e,t){return c.a.createElement(ve,{key:t,prompt:"Contents of ".concat(String.fromCharCode(t+"A".charCodeAt(0)),":"),control:c.a.createElement("input",{type:"text",onChange:o(t),value:e})})}))}),ze=c.a.memo(function(e){for(var t=e.equation,n=e.visibleSizes,r=e.operandShapes,a=e.operandContents,i=e.dispatch,o=r.slice(0,n),s=a.slice(0,n),u=[],p=0;p<Math.min(o.length,s.length);p++){var l=X(o[p]),f=re(s[p]);C(l)||C(f)||"number"===typeof f.Ok?u.push({Err:"Array ".concat(p," doesn't work")}):u.push({shape:l.Ok,contents:f.Ok.flat(Math.pow(2,16))})}var d=j(t,JSON.stringify(u));return c.a.createElement(ke,{input:c.a.createElement(Ce,{dispatch:i,visibleSizes:n,operandContents:a}),output:c.a.createElement(Je,{computationOutputJSON:d})})}),xe=c.a.memo(function(e){var t=e.dispatch,n=Object.entries(le),r=Object(u.useState)(n[0][0]),a=Object(f.a)(r,2),i=a[0],o=a[1];return c.a.createElement(ke,{input:c.a.createElement(ve,{prompt:"Try one:",control:c.a.createElement("select",{value:i,onChange:function(e){o(e.target.value),t(he.loadPreset(e.target.value))}},n.map(function(e){var t=Object(f.a)(e,2),n=t[0],r=t[1];return c.a.createElement("option",{key:n,value:n},r.description)}))}),output:c.a.createElement(c.a.Fragment,null)})});function qe(e){return function e(t,n){var r=t[n],a=r.operand_nums,i=a.lhs,o=a.rhs,s=r.method,u=r.simplified_einsum_string,c=r.lhs_simplification,p=r.rhs_simplification;function l(n){return R(n)?{sourceType:"Input",source:n.Input}:{sourceType:"Result",source:e(t,n.IntermediateResult)}}function f(e,t){return null!==e?{sourceType:"Simplification",source:{method:e.method,einsum_string:e.einsum_string,input:l(t)}}:l(t)}return{lhs:f(c,i),rhs:f(p,o),method:s,simplified_einsum_string:u}}(e,e.length-1)}var Me=c.a.memo(function(e){var t=G(e.einsumPathJSON,$,"einsumPathAsJson"),n=!C(t)&&function(e){if(V(e.contraction_order)&&L(e.steps)){var t=e.steps.PairContractions;return{Ok:{Pairs:e.contraction_order.Pairs.map(function(e,n){return Object(d.a)({},e,t[n])})}}}return I(e.contraction_order)&&D(e.steps)?{Ok:{Singleton:{sized_contraction:e.contraction_order.Singleton,method:e.steps.SingletonContraction.method}}}:{Err:"Inconsistent order and steps"}}(t.Ok),r=n&&!C(n)&&n.Ok&&n.Ok.hasOwnProperty("Pairs")&&n.Ok.Pairs,a=r&&qe(r),i=C(t)?t:{Ok:c.a.createElement(c.a.Fragment,null,a&&c.a.createElement("div",null,JSON.stringify(a,null,2)))};return c.a.createElement(be,{output:i})}),Fe=c.a.memo(function(e){var t=e.optimizationMethod,n=e.dispatch;return c.a.createElement(ve,{prompt:"Optimizer:",control:c.a.createElement("select",{onChange:function(e){n(he.updateOptimizationMethod(e.target.value))},value:t},c.a.createElement("option",{value:"Naive"},"Naive"),c.a.createElement("option",{value:"Reverse"},"Reverse"))})}),Te=c.a.memo(function(e){for(var t=e.equation,n=e.optimizationMethod,r=e.visibleSizes,a=e.operandShapes,i=e.operandContents,o=e.dispatch,s=a.slice(0,r),u=i.slice(0,r),p=[],l=0;l<Math.min(s.length,u.length);l++){var f=X(s[l]),d=re(u[l]);C(f)||C(d)||"number"===typeof d.Ok?p.push({Err:"Array ".concat(l," doesn't work")}):p.push({shape:f.Ok,contents:d.Ok.flat(Math.pow(2,16))})}var m=A(t,JSON.stringify(p),JSON.stringify(n));return c.a.createElement(ke,{input:c.a.createElement(Fe,{dispatch:o,optimizationMethod:n}),output:c.a.createElement(Me,{einsumPathJSON:m})})}),Ie=function(e){var t=e.appState,n=e.dispatch,r=t.equation,a=t.visibleSizes,i=t.operandStates,o=t.optimizationMethod;return c.a.createElement("div",{className:"wrap container-fluid"},c.a.createElement(xe,{dispatch:n}),c.a.createElement(Pe,{equation:r,dispatch:n}),c.a.createElement(Ne,{equation:r,dispatch:n,visibleSizes:a,operandShapes:i.map(function(e){return e.shapeStr})}),c.a.createElement(ze,{equation:r,dispatch:n,visibleSizes:a,operandContents:i.map(function(e){return e.contentsStr}),operandShapes:i.map(function(e){return e.shapeStr})}),c.a.createElement(Te,{equation:r,dispatch:n,visibleSizes:a,optimizationMethod:o,operandContents:i.map(function(e){return e.contentsStr}),operandShapes:i.map(function(e){return e.shapeStr})}))},Re=(n(27),n(28),function(){var e=Object(u.useReducer)(ye,me),t=Object(f.a)(e,2),n=t[0],r=t[1],a=Object(u.useState)(Date.now());Object(f.a)(a,2)[1];return c.a.createElement(Ie,{appState:n,dispatch:r})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));!function(){var e=Object(s.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("./pkg/einsum_wasm_bg.wasm");case 2:l.a.render(c.a.createElement(Re,null),document.getElementById("root"));case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[14,1,2]]]);
//# sourceMappingURL=main.d5151117.chunk.js.map